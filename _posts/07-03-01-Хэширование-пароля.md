---
isChild: true
---

## Хэширование паролей {#password_hashing_title}

Наверное, каждый PHP-разработчик занимается разработкой приложений, которые нуждается в пользовательской авторизации. Имя пользователя и пароль хранятся в базе данных и позже используются для авторизации пользователя.

Очень важно правильно [_хэшировать_][3] пароль перед его сохранением. Хэширование пароля является необратитым, односторонняя функция применяется на пользовательских паролях. Она возвращает строку определенной длины, которую невозможно расшифровать. Это значит, что вы можете сравнить один хэш с другим, чтобы понять, что они пришли из одной и той же исходной строки, но вы не можете определить оригинальную строку. Если ваши пароли не захэшированы, и доступ к базе данных получен третьй стороной, то ваши пользовательские аккаунты теперь скомпрометированы. Некоторые пользователи (к сожалению) могут использовать один и тот же пароль для разных сервисов. Как бы то ни было, очень важно серьезно относиться к безопасности.

**Хэширование паролей с функцией `password_hash`**

В PHP 5.5 была представлена функция `password_hash`. Сейчас она использует BCrypt, сильнейший алгоритм, поддерживаемый PHP. Она будет обновлена в будущем, для поддержки большЕго числа алгоритмов, по мере необходимости. Библиотека `password_compat` была создана для обратной совместимости с PHP >= 5.3.7.

Ниже мы хэшируем строку и далее сверяем его с новой строкой. Поскольку наши две исходных строки отличны ('secret-password' и 'bad-password') эта авторизация будет неудачной. 

{% highlight php %}                                                                                                                                                                                              
<?php                                                                                                                                                                                                            
require 'password.php';

$passwordHash = password_hash('secret-password', PASSWORD_DEFAULT);

if (password_verify('bad-password', $passwordHash)) {
    //Правильный пароль
} else {
    //Неправильный пароль
}
{% endhighlight %}  



* [Подробнее о `password_hash`] [1]
* [`password_compat` для PHP  >= 5.3.7 && < 5.5] [2]
* [Подробнее о хэшировании в отношении криптографии] [3]
* [PHP `password_hash` RFC] [4]

[1]: http://us2.php.net/manual/ru/function.password-hash.php
[2]: https://github.com/ircmaxell/password_compat
[3]: http://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%85%D0%B5%D1%88-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F
[4]: https://wiki.php.net/rfc/password_hash
